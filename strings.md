# 介绍Redis的数据类型和抽象

Redis不是一个简单的键值存储，它实际上是一个数据结构服务器，支持不同类型的值。这意味着在Redis中值不限于一个简单的字符串，也可以保存更复杂的数据结构，而在传统的键值存储中，你将字符串键关联字符串值。下面是Redis支持的
所有数据结构列表，在这个教程中将会分别介绍：

- 二进制安全字符串(Binary-safe strings)
- Lists: 根据插入顺序排序的字符串元素集合，他们本质上是链表
- Sets: 唯一的，无序的字符串集合
- Sorted sets: 跟Sets相似，但是每一个字符串关联一个浮点数值，叫做score。元素总是按照它们的score排序，所以不像Sets，Sorted sets可以检索一系列元素(例如你可以问：给我上面的10个，或者下面的10个)
- Hashs: 由字段与值关联组成的映射。字段和值都是字符串。与Ruby或Python的hashs非常相似。
- Bit arrays(or simply bitmaps): 可以使用特殊的命令来处理字符串值，比如位数组：你可以设置和清除单个位，计数所有设置为1的位，查找第一个设置或者未设置的位，等等。
- HyperLogLogs: 这是一个概率数据结构，用来估算集合的基数。不必害怕，它比看起来简单... 请参阅本教程的HyperLogLogs部分
- Streams: map-like集合的扩展，提供抽象日志数据类型。在对Redis流的介绍中对它们进行了深入的介绍。

从命令行参照中了解这些数据类型的工作方式，以及使用什么类型来解决给定的问题并不总是简单的。因此，这个文档是Redis数据类型及其常见模式的速成课程。对于所有的例子，我们将使用redis-cli实用程序(一个简单但实用的命令行实用
程序)对Redis服务器发出命令。

## Redis keys

Redis keys是二进制安全的，这意味着你可以使用任意的二进制序列作为key，从字符串"foo"到JPEG文件的内容。空字符串也是一个有效的key。
关于keys的其他一些的规则：
- 很长的keys不是一个好主意。例如，一个1024字节的键不是一个好主意，不仅在记忆方面，而且在数据集中查找key可能需要几个代价高昂的键比较。即使手头的任务是匹配一个大值的存在。哈希它(例如使用SHA1)是一个更好的主意，特别是
从内存和带宽的角度来看。
- 非常短的keys通常不是一个好主意。如果你可以写"user:1000:follower"，那么把"u1000flw"作为键就没有什么意义了。后者更具有可读性，并且与键对象本身和值对象使用的空间相比，添加的空间有限。虽然短键显然会消耗更少的内
存，但您的工作是找到正确的平衡。
- 试着坚持一种模式。例如："object-type:id"是一个好主意，如"user:1000"。点或者破折号经常用在多单词字段中，例如"comment:1234:reply.to"或者"comment:1234:reply-to"。
- 允许的最大的键大小是512M。

## Redis Strings

Redis字符串类型是可以与Redis键关联的最简单的值类型。它是Memcached中唯一的数据类型。所以新人在Redis中使用它是非常自热的。

因为Redis的键是字符串，当我们也使用字符串类型做值时，我们把一个字符串映射到另外一个字符串。字符串数据类型对许多用例都很有用，比如缓存HTML片段或页面。

让我们来玩一下字符串类型，使用`redis-cli`(在本教程中，所有示例都通过redis-cli执行)。
```
> set mykey somevalue
OK
> get mykey
"somevalue"
```
